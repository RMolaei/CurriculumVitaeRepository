% Information Template, LaTeX Package
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{informationTemplate}

\RequirePackage{./../lib/commonPackages}

\hypersetup{
  colorlinks=true,
  linkcolor=blue,
  filecolor=magenta,
  urlcolor=teal,
%   pdftitle={Overleaf Example},
%   pdfpagemode=FullScreen,
}

\setitemize{
  topsep=0cm,
  partopsep=0cm,
  parsep=0cm,
  itemsep=0cm
}

\setlength{\parindent}{2mm}


% Date
\newcommand{\dateEP}[2]{\iftoggle{EnglishToggle}{#1}{}\iftoggle{PersianToggle}{#2}{}}


% Email
\newcommand{\email}[1]{\iftoggle{EnglishToggle}{\href{mailto: #1}{#1}}{}\iftoggle{PersianToggle}{\lr{\href{mailto: #1}{#1}}}{}}


% Phone
\newcommand{\phone}[2]{\iftoggle{EnglishToggle}{\href{tel: #1}{#1}}{}\iftoggle{PersianToggle}{\href{tel: #2}{#2}}{}}


% Name
\newcommand{\firstNameCE}[1]{\newcommand{\firstNameE}{#1\xspace}}
\newcommand{\lastNameCE}[1]{\newcommand{\lastNameE}{#1\xspace}}
\newcommand{\firstNameCP}[1]{\newcommand{\firstNameP}{#1\xspace}}
\newcommand{\lastNameCP}[1]{\newcommand{\lastNameP}{#1\xspace}}

\newcommand{\firstName}{\iftoggle{EnglishToggle}{\firstNameE}{}\iftoggle{PersianToggle}{\firstNameP}{}}
\newcommand{\lastName}{\iftoggle{EnglishToggle}{\lastNameE}{}\iftoggle{PersianToggle}{\lastNameP}{}}
\newcommand{\fullName}{\iftoggle{EnglishToggle}{\firstName \lastName}{}\iftoggle{PersianToggle}{\firstName \lastName}{}}

% Born Data
\newcommand{\bornDataC}[3]{\newcommand{\bornData}{\iftoggle{EnglishToggle}
{\iftoggle{CurriculumVitae}{#3 #1\xspace}{}\iftoggle{Resume}{#3\xspace}{}}
{}\iftoggle{PersianToggle}
{\iftoggle{CurriculumVitae}{#3 #2\xspace}{}\iftoggle{Resume}{#3\xspace}{}}{}}}

% Marital StateCE
\newcommand{\maritalStateCE}[1]{\newcommand{\maritalStateE}{#1\xspace}}
\newcommand{\maritalStateCP}[1]{\newcommand{\maritalStateP}{#1\xspace}}

\newcommand{\maritalState}{\iftoggle{EnglishToggle}{\maritalStateE}{}\iftoggle{PersianToggle}{\maritalStateP}{}}

% Military service
\newcommand{\militaryServiceCE}[1]{\newcommand{\militaryServiceE}{#1\xspace}}
\newcommand{\militaryServiceCP}[1]{\newcommand{\militaryServiceP}{#1\xspace}}

\newcommand{\militaryService}{\iftoggle{EnglishToggle}{\militaryServiceE}{}\iftoggle{PersianToggle}{\militaryServiceP}{}}


% Address
\newcommand{\addressE}[2]{\iftoggle{CurriculumVitae}{#2, #1}{}\iftoggle{Resume}{#1}{}}
\newcommand{\addressP}[2]{\iftoggle{CurriculumVitae}{#1, #2}{}\iftoggle{Resume}{#1}{}}


% Contact Information
\newcommand{\fullAddressC}[3]{\newcommand{\fullAddress}{\iftoggle{EnglishToggle}{#1}{}\iftoggle{PersianToggle}{#2}{}\iftoggle{CurriculumVitae}{\iftoggle{EnglishToggle}{, Postal code:}{}\iftoggle{PersianToggle}{, کدپستی:}{} #3\xspace}{}}}

\newcommand{\mobilePhoneIC}[1]{\newcommand{\mobilePhoneI}{#1\xspace}}
\newcommand{\mobilePhoneIIC}[1]{\newcommand{\mobilePhoneII}{#1\xspace}}

\newcommand{\phoneNumberC}[1]{\newcommand{\phoneNumber}{#1\xspace}}

\newcommand{\emailIC}[1]{\newcommand{\emailI}{#1\xspace}}
\newcommand{\emailIIC}[1]{\newcommand{\emailII}{#1\xspace}}

\newcommand{\skypeC}[1]{\newcommand{\skype}{\iftoggle{EnglishToggle}{\href{skypeto: #1}{#1}}{}\iftoggle{PersianToggle}{\lr{\href{skypeto: #1}{#1}}}{}}}

\newcommand{\gitHubC}[1]{\newcommand{\gitHub}{\url{#1}}}

\newcommand{\linkedinC}[1]{\newcommand{\linkedin}{\url{#1}}}


% Profession
\newcommand{\ProfessionIC}[2]{\newcommand{\ProfessionI}{\iftoggle{EnglishToggle}{#1}{}\iftoggle{PersianToggle}{#2}{}}}
\newcommand{\ProfessionIIC}[2]{\newcommand{\ProfessionII}{\iftoggle{EnglishToggle}{#1}{}\iftoggle{PersianToggle}{#2}{}}}


% Descriptions
\newcommand{\aboutCE}[1]{\newcommand{\aboutE}{#1\xspace}}
\newcommand{\summaryCE}[1]{\newcommand{\summaryE}{#1\xspace}}
\newcommand{\aboutCP}[1]{\newcommand{\aboutP}{#1\xspace}}
\newcommand{\summaryCP}[1]{\newcommand{\summaryP}{#1\xspace}}

\newcommand{\descriptionsE}{\iftoggle{CurriculumVitae}{\section*{About}\aboutE}{}\iftoggle{Resume}{\section*{Summary}\summaryE}{}}
\newcommand{\descriptionsP}{\iftoggle{CurriculumVitae}{\section*{درباره}\aboutP}{}\iftoggle{Resume}{\section*{خلاصه}\summaryP}{}}
\newcommand{\descriptions}{\iftoggle{EnglishToggle}{\descriptionsE}{}\iftoggle{PersianToggle}{\descriptionsP}{}}


% Acronym
\newcommand{\acronymE}[3]{\iftoggle{#3}{#2\xspace}{#1\acronymlistC{#1}{#2}{#3}\toggletrue{#3} (#2)\xspace}}
\newcommand{\acronymP}[3]{\iftoggle{#3}{#2\xspace}{#1\acronymlistC{#1}{#2}{#3}\toggletrue{#3} (#2)\xspace}}

\newcommand{\acronymC}[5]{\expandafter\newcommand\csname #5\endcsname
{\iftoggle{EnglishToggle}{\acronymE{#1}{#2}{#5}}{}\iftoggle{PersianToggle}{\acronymP{#3}{#4}{#5}}{}}
\newtoggle{#5}}

\newcommand{\acronymlist}{\iftoggle{EnglishToggle}{List of abbreviations and acronyms:}{}\iftoggle{PersianToggle}{فهرست اختصارات و کلمات اختصاری:}{}}
\newcommand{\acronymlistC}[3]{\expandafter\let\csname acronymlistbefore#3\endcsname\acronymlist
\renewcommand{\acronymlist}{\expandafter\csname acronymlistbefore#3\endcsname \\\iftoggle{EnglishToggle}{#1 #2}{}\iftoggle{PersianToggle}{#1 #2}{}}}


% Institute
\newcommand{\instituteE}[5]{\iftoggle{CurriculumVitae}
{\parbox{45mm}{\raggedright\Large\bfseries\color{blue}#1}\quad\parbox{142mm}{#2 #3, \url{#4}}}
{}\iftoggle{Resume}
{\parbox{150mm}{\raggedright\Large\bfseries\color{blue}#1}\quad\quad\parbox{34mm}{\centering#3\\\url{#4}}}{}}
\newcommand{\instituteP}[5]{\iftoggle{CurriculumVitae}
{\parbox{45mm}{\raggedleft\Large\bfseries\color{blue}#1}\quad\parbox{142mm}{#2 #3, \url{#4}}}
{}\iftoggle{Resume}
{\parbox{150mm}{\raggedleft\Large\bfseries\color{blue}#1}\quad\quad\parbox{34mm}{\centering#3\\\url{#4}}}{}}

\newcommand{\instituteC}[8]{
\expandafter\newcommand\csname #8\endcsname
{\iftoggle{EnglishToggle}{\instituteE{#1}{#2}{#3}{#7}{#8}}{}\iftoggle{PersianToggle}{\instituteP{#4}{#5}{#6}{#7}{#8}}{}}
}


% Types of employment
\newcommand{\fulltime}{\iftoggle{EnglishToggle}{Full time}{}\iftoggle{PersianToggle}{تمام وقت}{}}
\newcommand{\parttime}{\iftoggle{EnglishToggle}{Part time}{}\iftoggle{PersianToggle}{پاره وقت}{}}


% Cooperation period
\newcommand{\cooperationPeriodC}[2]{\expandafter\newcommand\csname #2\endcsname{#1}\newcounter{#2}
\expandafter\newcommand\csname #2\arabic{#2}\endcsname{#1}\addtocounter{#2}{1}\workExperienceListC{#2}}

\newcommand{\cooperationPeriodUpdate}[1]{\expandafter\renewcommand\csname #1\endcsname
{\newcounter{#1index}\forloop{#1index}{0}{\value{#1index} < \value{#1}}{\csname #1\arabic{#1index}\endcsname\\}}}


% Job position
\newcommand{\jobPositionE}[6]{\colorbox{gray}
{\bfseries\color{white}\parbox{85mm}{#1}\parbox{29mm}{\centering#3}\parbox{75mm}{\raggedleft#4 to #5}}\\#2\ }
\newcommand{\jobPositionP}[6]{\colorbox{gray}
{\bfseries\color{white}\parbox{85mm}{\ #1}\parbox{29mm}{\centering#3}\parbox{75mm}{\raggedright#4 الی #5}}\\#2\ }

\newcommand{\jobPositionC}[8]{\expandafter\newcommand\csname #8\arabic{#8}\endcsname
{\iftoggle{EnglishToggle}{\jobPositionE{#1}{#2}{#5}{#6}{#7}{#8}}{}\iftoggle{PersianToggle}{\jobPositionP{#3}{#4}{#5}{#6}{#7}{#8}}{}}
\addtocounter{#8}{1}\cooperationPeriodUpdate{#8}}


% Work Experience
\newcommand{\workExperienceList}{\iftoggle{EnglishToggle}
{\iftoggle{CurriculumVitae}{Detail of experiences:}{}\iftoggle{Resume}{Selection of experiences:}{}}{}\iftoggle{PersianToggle}
{\iftoggle{CurriculumVitae}{مشروح تجربیات:}{}\iftoggle{Resume}{گزیده تجربیات:}{}}{}}
\newcommand{\workExperienceListC}[1]{\expandafter\let\csname workExperienceListbefore#1\endcsname\workExperienceList
\renewcommand{\workExperienceList}{\expandafter\csname workExperienceListbefore#1\endcsname \\ \expandafter\csname #1\endcsname}}
\newcommand{\workExperience}{\iftoggle{EnglishToggle}{\section*{Work Experience}}{}\iftoggle{PersianToggle}{\section*{سوابق کاری}}{}\workExperienceList}


% Education period
\newcommand{\educationPeriodC}[2]{\expandafter\newcommand\csname #2\endcsname{#1}\newcounter{#2}\newcounter{#2i}\newcounter{#2ii}
\expandafter\newcommand\csname #2\arabic{#2}\endcsname{#1}\addtocounter{#2}{1}\educationListC{#2}}

\newcommand{\educationPeriodUpdate}[1]{\expandafter\renewcommand\csname #1\endcsname
{\newcounter{#1index}\forloop{#1index}{0}{\value{#1index} < \value{#1}}{\csname #1\arabic{#1index}\endcsname\\}}}


% Education grade
\newcommand{\educationGradeE}[9]{\parbox{190mm}{\colorbox{brown}
{\bfseries\color{white}\parbox{85mm}{#1 in #2}\parbox{29mm}{\centering#5}\parbox{75mm}{\raggedleft#6 to #7}}\\
{\bfseries\color{darkgray}\ \parbox{85mm}{Minor: #3}\parbox{29mm}{\centering GPA: #8}\parbox{75mm}{\raggedleft#4}}}\\}
\newcommand{\educationGradeP}[9]{\parbox{190mm}{\colorbox{brown}
{\bfseries\color{white}\parbox{85mm}{\ #1 #2}\parbox{29mm}{\centering#5}\parbox{75mm}{\raggedright#6 الی #7}}\\
{\bfseries\color{darkgray}\parbox{85mm}{گرایش: #3}\parbox{29mm}{\centering معدل: #8}\parbox{75mm}{\raggedright#4}}}\\}

\newcommand{\educationGradeCI}[9]{
\expandafter\def\csname tempa#9\arabic{#9i}\endcsname{#1}
\expandafter\def\csname tempb#9\arabic{#9i}\endcsname{#2}
\expandafter\def\csname tempc#9\arabic{#9i}\endcsname{#3}
\expandafter\def\csname tempd#9\arabic{#9i}\endcsname{#4}
\expandafter\def\csname tempe#9\arabic{#9i}\endcsname{#5}
\expandafter\def\csname tempf#9\arabic{#9i}\endcsname{#6}
\expandafter\def\csname tempg#9\arabic{#9i}\endcsname{#7}
\expandafter\def\csname temph#9\arabic{#9i}\endcsname{#8}}
\newcommand{\educationGradeCII}[7]{
\expandafter\def\csname tempi#7\arabic{#7i}\endcsname{#1}
\expandafter\def\csname tempj#7\arabic{#7i}\endcsname{#2}
\expandafter\def\csname tempk#7\arabic{#7i}\endcsname{#3}
\expandafter\def\csname templ#7\arabic{#7i}\endcsname{#4}
\expandafter\def\csname tempm#7\arabic{#7i}\endcsname{#5}
\expandafter\def\csname tempn#7\arabic{#7i}\endcsname{#6}
\addtocounter{#7i}{1}\educationGradeC{#7}}
\newcommand{\educationGradeC}[1]{\expandafter\newcommand\csname #1\arabic{#1}\endcsname{\iftoggle{EnglishToggle}{\educationGradeE
{\csname tempa#1\arabic{#1ii}\endcsname}
{\csname tempb#1\arabic{#1ii}\endcsname}
{\csname tempc#1\arabic{#1ii}\endcsname}
{\csname tempd#1\arabic{#1ii}\endcsname}
{\csname tempk#1\arabic{#1ii}\endcsname}
{\csname templ#1\arabic{#1ii}\endcsname}
{\csname tempm#1\arabic{#1ii}\endcsname}
{\csname tempn#1\arabic{#1ii}\endcsname}
{#1}\csname tempi#1\arabic{#1ii}\endcsname\ }{}
\iftoggle{PersianToggle}{\educationGradeP
{\csname tempe#1\arabic{#1ii}\endcsname}
{\csname tempf#1\arabic{#1ii}\endcsname}
{\csname tempg#1\arabic{#1ii}\endcsname}
{\csname temph#1\arabic{#1ii}\endcsname}
{\csname tempk#1\arabic{#1ii}\endcsname}
{\csname templ#1\arabic{#1ii}\endcsname}
{\csname tempm#1\arabic{#1ii}\endcsname}
{\csname tempn#1\arabic{#1ii}\endcsname}
{#1}\csname tempj#1\arabic{#1ii}\endcsname\ }{}\addtocounter{#1ii}{1}}\addtocounter{#1}{1}\educationPeriodUpdate{#1}}


% Education
\newcommand{\educationList}{\iftoggle{EnglishToggle}
{\iftoggle{CurriculumVitae}{Detail of education:}{}\iftoggle{Resume}{Selection of education:}{}}{}\iftoggle{PersianToggle}
{\iftoggle{CurriculumVitae}{شرح تحصیلی:}{}\iftoggle{Resume}{گزیده تحصیلی:}{}}{}}
\newcommand{\educationListC}[1]{\expandafter\let\csname educationListbefore#1\endcsname\educationList
\renewcommand{\educationList}{\expandafter\csname educationListbefore#1\endcsname \\ \expandafter\csname #1\endcsname}}
\newcommand{\education}{\iftoggle{EnglishToggle}{\section*{Education}}{}\iftoggle{PersianToggle}{\section*{سوابق تحصیلی}}{}\educationList}


% GPA
\newcommand{\gpa}[2]{\iftoggle{EnglishToggle}{#1/#2}{}\iftoggle{PersianToggle}{$#1$ از $#2$}{}}


% Craft
\newcounter{craftindex}\setcounter{craftindex}{0}
\newcounter{maxcraftindex}\setcounter{maxcraftindex}{3}
\newcommand{\craftC}[7]{\expandafter\newcommand\csname craft\arabic{craftindex}\endcsname
{\iftoggle{EnglishToggle}{\craftE{#1}{#2}{#3}{#7}}{}\iftoggle{PersianToggle}{\craftP{#4}{#5}{#6}{#7}}{}}\addtocounter{craftindex}{1}}

\newcommand{\craftE}[4]{\iftoggle{CurriculumVitae}{\parbox{190mm}{\colorbox{olive}
{\bfseries\color{white}\parbox{114mm}{#1}\parbox{75mm}{\raggedleft#4}}\\
{\parbox{75mm}{#2}\quad\parbox{111mm}{#3}}}\\}{}\iftoggle{Resume}{\parbox{190mm}{\colorbox{olive}
{\bfseries\color{white}\parbox{190mm}{\centering#1}}\\
{\parbox{75mm}{#2}\quad\parbox{111mm}{#3}}}\\}{}}
\newcommand{\craftP}[4]{\iftoggle{CurriculumVitae}{\parbox{190mm}{\colorbox{olive}
{\ \bfseries\color{white}\parbox{114mm}{#1}\parbox{75mm}{\raggedright#4}}\\
{\parbox{75mm}{#2}\quad\parbox{111mm}{#3}}}\\}{}\iftoggle{Resume}
{\parbox{190mm}{\colorbox{olive}
{\bfseries\color{white}\parbox{190mm}{\centering#1}}\\
{\parbox{75mm}{#2}\quad\parbox{111mm}{#3}}}\\}{}}

\newcommand{\craftlistC}{\iftoggle{CurriculumVitae}
{\noindent\newcounter{craftjndex}\forloop{craftjndex}{0}{\value{craftjndex} < \value{craftindex}}{\csname craft\arabic{craftjndex}\endcsname}}{}\iftoggle{Resume}
{\noindent\newcounter{craftkndex}\forloop{craftkndex}{0}{\value{craftkndex} < \value{maxcraftindex}}{\csname craft\arabic{craftkndex}\endcsname}}}
\newcommand{\craft}{\iftoggle{EnglishToggle}{\section*{Craft}}{}\iftoggle{PersianToggle}{\section*{تخصص‌ها}}{}\craftlistC}
