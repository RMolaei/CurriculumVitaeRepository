% Information Template, LaTeX Package
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{informationTemplate}

\RequirePackage{./../lib/commonPackages}

\hypersetup{
  colorlinks=true,
  linkcolor=blue,
  filecolor=magenta,      
  urlcolor=cyan,
%   pdftitle={Overleaf Example},
%   pdfpagemode=FullScreen,
}

\setitemize{
  topsep=0cm,
  partopsep=0cm,
  parsep=0cm,
  itemsep=0cm
}


% Name
\newcommand{\firstNameCE}[1]{\newcommand{\firstNameE}{#1\xspace}}
\newcommand{\lastNameCE}[1]{\newcommand{\lastNameE}{#1\xspace}}
\newcommand{\firstNameCP}[1]{\newcommand{\firstNameP}{#1\xspace}}
\newcommand{\lastNameCP}[1]{\newcommand{\lastNameP}{#1\xspace}}

\newcommand{\firstName}{\iftoggle{EnglishToggle}{\firstNameE}{}\iftoggle{PersianToggle}{\firstNameP}{}}
\newcommand{\lastName}{\iftoggle{EnglishToggle}{\lastNameE}{}\iftoggle{PersianToggle}{\lastNameP}{}}
\newcommand{\fullName}{\iftoggle{EnglishToggle}{\firstName \lastName}{}\iftoggle{PersianToggle}{\firstName \lastName}{}}


% Address
\newcommand{\addressE}[2]{\iftoggle{CurriculumVitae}{#1, #2}{}\iftoggle{Resume}{#1}{}}
\newcommand{\addressP}[2]{\iftoggle{CurriculumVitae}{#1, #2}{}\iftoggle{Resume}{#1}{}}


% Descriptions
\newcommand{\aboutCE}[1]{\newcommand{\aboutE}{#1\xspace}}
\newcommand{\summaryCE}[1]{\newcommand{\summaryE}{#1\xspace}}
\newcommand{\aboutCP}[1]{\newcommand{\aboutP}{#1\xspace}}
\newcommand{\summaryCP}[1]{\newcommand{\summaryP}{#1\xspace}}

\newcommand{\descriptionsE}{\iftoggle{CurriculumVitae}{\aboutE}{}\iftoggle{Resume}{\summaryE}{}}
\newcommand{\descriptionsP}{\iftoggle{CurriculumVitae}{\aboutP}{}\iftoggle{Resume}{\summaryP}{}}
\newcommand{\descriptions}{\iftoggle{EnglishToggle}{\descriptionsE}{}\iftoggle{PersianToggle}{\descriptionsP}{}}


% Acronym
\newcommand{\acronymE}[3]{\iftoggle{#3}{#2\xspace}{#1\acronymlistC{#1}{#2}{#3}\toggletrue{#3} (#2)\xspace}}
\newcommand{\acronymP}[3]{\iftoggle{#3}{#2\xspace}{#1\acronymlistC{#1}{#2}{#3}\toggletrue{#3} (#2)\xspace}}

\newcommand{\acronymC}[5]{\expandafter\newcommand\csname #5\endcsname
{\iftoggle{EnglishToggle}{\acronymE{#1}{#2}{#5}}{}\iftoggle{PersianToggle}{\acronymP{#3}{#4}{#5}}{}}
\newtoggle{#5}}

\newcommand{\acronymlist}{\iftoggle{EnglishToggle}{List of abbreviations and acronyms:}{}\iftoggle{PersianToggle}{فهرست اختصارات و کلمات اختصاری:}{}}
\newcommand{\acronymlistC}[3]{\expandafter\let\csname acronymlistbefore#3\endcsname\acronymlist
\renewcommand{\acronymlist}{\expandafter\csname acronymlistbefore#3\endcsname \\\iftoggle{EnglishToggle}{#1 #2}{}\iftoggle{PersianToggle}{#1 #2}{}}}


% Institute
\newcommand{\instituteE}[5]{\iftoggle{CurriculumVitae}
{\parbox{45mm}{\raggedright\Large\bfseries\color{blue}#1}\quad\parbox{142mm}{#2 #3, \url{#4}}}
{}\iftoggle{Resume}
{\parbox{150mm}{\raggedright\Large\bfseries\color{blue}#1}\quad\quad\parbox{34mm}{\centering#3\\\url{#4}}}{}}
\newcommand{\instituteP}[5]{\iftoggle{CurriculumVitae}
{\parbox{45mm}{\raggedleft\Large\bfseries\color{blue}#1}\quad\parbox{142mm}{#2 #3, \url{#4}}}
{}\iftoggle{Resume}
{\parbox{150mm}{\raggedleft\Large\bfseries\color{blue}#1}\quad\quad\parbox{34mm}{\centering#3\\\url{#4}}}{}}

\newcommand{\instituteC}[8]{
\expandafter\newcommand\csname #8\endcsname
{\iftoggle{EnglishToggle}{\instituteE{#1}{#2}{#3}{#7}{#8}}{}\iftoggle{PersianToggle}{\instituteP{#4}{#5}{#6}{#7}{#8}}{}}
}


% Types of employment
\newcommand{\fulltime}{\iftoggle{EnglishToggle}{Full time}{}\iftoggle{PersianToggle}{تمام وقت}{}}
\newcommand{\parttime}{\iftoggle{EnglishToggle}{Part time}{}\iftoggle{PersianToggle}{پاره وقت}{}}


% Cooperation period
\newcommand{\cooperationPeriodC}[2]{\expandafter\newcommand\csname #2\endcsname{#1}\newcounter{#2}
\expandafter\newcommand\csname #2\arabic{#2}\endcsname{#1}\addtocounter{#2}{1}\workExperienceListC{#2}}

\newcommand{\cooperationPeriodUpdate}[1]{\expandafter\renewcommand\csname #1\endcsname
{\newcounter{#1index}\forloop{#1index}{0}{\value{#1index} < \value{#1}}{\csname #1\arabic{#1index}\endcsname\\}}}


% Job position
\newcommand{\jobPositionE}[6]{\colorbox{gray}
{\bfseries\color{white}\parbox{99mm}{#1}\parbox{20mm}{\centering#3}\parbox{70mm}{\raggedleft#4 to #5}}\\#2\ }
\newcommand{\jobPositionP}[6]{\colorbox{gray}
{\bfseries\color{white}\parbox{99mm}{\ #1}\parbox{20mm}{\centering#3}\parbox{70mm}{\raggedright#4 الی #5}}\\#2\ }

\newcommand{\jobPositionC}[8]{\expandafter\newcommand\csname #8\arabic{#8}\endcsname
{\iftoggle{EnglishToggle}{\jobPositionE{#1}{#2}{#5}{#6}{#7}{#8}}{}\iftoggle{PersianToggle}{\jobPositionP{#3}{#4}{#5}{#6}{#7}{#8}}{}}
\addtocounter{#8}{1}\cooperationPeriodUpdate{#8}}


% Work Experience
\newcommand{\workExperienceList}{\iftoggle{EnglishToggle}{Work Experience:}{}\iftoggle{PersianToggle}{سوابق کاری:}{}}
\newcommand{\workExperienceListC}[1]{\expandafter\let\csname workExperienceListbefore#1\endcsname\workExperienceList
\renewcommand{\workExperienceList}{\expandafter\csname workExperienceListbefore#1\endcsname \\ \expandafter\csname #1\endcsname}}
